<html>

<head>
  <title>Prime Video</title>
</head>

<body>
  <form id="tv-channel-signup">
    <input type="text" name="user.email" />
    <input type="text" name="user.payment.card.name" />
    <input type="text" name="user.payment.card.number" />
    <input type="text" name="channel.name" />
  </form>
  <script>
      let obj = {}
      const form = document.getElementById("tv-channel-signup")
      form.addEventListener("change", (ev) => {
          const keys = ev.target.name.split(".")
          
          function iter(obj, i, value) {
            if(i >= keys.length - 1) {
              obj[keys[i]] = value
              return obj
            }
            
            if(!obj[keys[i]]) {
              obj[keys[i]] = { }
            }
            
            iter(obj[keys[i]], i+1, value)
          }
          iter(obj, 0, ev.target.value)
          console.log(obj)
      })
      
  </script>
</body>

</html>